{"ast":null,"code":"/*\n\tDelighters - Add CSS animations to delight users as they scroll down.\n\t(c) 2018 - Q42\n\tWritten by Martin Kool\n\thttps://github.com/Q42/delighters\n*/\nvar Delighters = new function () {\n  var self = this,\n      dels = this.dels = [],\n      // default options\n  options = {\n    attribute: 'data-delighter',\n    classNames: ['delighter', 'started', 'ended'],\n    start: 0.75,\n    // default start threshold\n    end: 0.75,\n    // default end threshold\n    autoInit: true // initialize when DOMContentLoaded\n\n  };\n  document.addEventListener(\"DOMContentLoaded\", function () {\n    if (options.autoInit) init();\n  });\n\n  function config(opts) {\n    for (var name in opts) {\n      options[name] = opts[name];\n    }\n  }\n\n  function init() {\n    document.addEventListener('scroll', scroll);\n    var els = document.querySelectorAll('[' + options.attribute + ']');\n\n    for (var i = 0; i < els.length; i++) {\n      var el = els[i],\n          def = el.getAttribute(options.attribute, 2),\n          pairs = def.split(';'),\n          del = {};\n      del.start = options.start;\n      del.end = options.end;\n\n      for (var j = 0; j < pairs.length; j++) {\n        var pair = pairs[j].split(':'),\n            name = pair[0],\n            val = isNaN(pair[1] * 1) ? pair[1] : pair[1] * 1;\n        if (name) del[name] = val === undefined ? true : val;\n      }\n\n      del.el = el;\n      del.id = dels.length;\n      dels.push(del);\n      el.classList.add(options.classNames[0]);\n      if (del.debug) el.style.outline = 'solid red 4px';\n    }\n\n    scroll();\n  }\n\n  function scroll() {\n    var viewportHeight = window.innerHeight;\n\n    for (var i = 0; i < dels.length; i++) {\n      var del = dels[i],\n          box = del.el.getBoundingClientRect(),\n          factorStart = box.top / viewportHeight,\n          factorEnd = box.bottom / viewportHeight;\n\n      if (del.debug) {\n        if (factorStart >= 0 && factorStart <= 1) {\n          if (!del.startLine) {\n            del.startLine = document.createElement('div');\n            document.body.appendChild(del.startLine);\n            del.startLine.style = 'position:fixed;height:0;width:100%;border-bottom:dotted red 2px;top:' + del.start * 100 + 'vh';\n          }\n        }\n\n        if ((factorEnd < del.end || factorStart > 1) && del.startLine) {\n          del.startLine.parentNode.removeChild(del.startLine);\n          delete del.startLine;\n        }\n      }\n\n      if (factorStart < del.start && !del.started) {\n        del.started = true;\n        del.el.classList.add(options.classNames[1]);\n      } else if (factorStart > del.start && del.started) {\n        del.started = false;\n        del.el.classList.remove(options.classNames[1]);\n      }\n\n      if (factorEnd < del.end && !del.ended) {\n        del.ended = true;\n        del.el.classList.add(options.classNames[2]);\n      } else if (factorEnd > del.end && del.ended) {\n        del.ended = false;\n        del.el.classList.remove(options.classNames[2]);\n      }\n    }\n  }\n\n  self.init = init;\n  self.config = config;\n}();\nexport default Delighters;","map":{"version":3,"sources":["/Users/katayama/WebstormProjects/portfolio/client/src/common/delighters.js"],"names":["Delighters","self","dels","options","attribute","classNames","start","end","autoInit","document","addEventListener","init","config","opts","name","scroll","els","querySelectorAll","i","length","el","def","getAttribute","pairs","split","del","j","pair","val","isNaN","undefined","id","push","classList","add","debug","style","outline","viewportHeight","window","innerHeight","box","getBoundingClientRect","factorStart","top","factorEnd","bottom","startLine","createElement","body","appendChild","parentNode","removeChild","started","remove","ended"],"mappings":"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","sourcesContent":["/*\n\tDelighters - Add CSS animations to delight users as they scroll down.\n\t(c) 2018 - Q42\n\tWritten by Martin Kool\n\thttps://github.com/Q42/delighters\n*/\nvar Delighters = new (function() {\n    var self = this,\n        dels = this.dels = [],\n\n        // default options\n        options = {\n            attribute: \t'data-delighter',\n            classNames: ['delighter', 'started', 'ended'],\n            start: \t\t\t0.75, // default start threshold\n            end: \t\t\t\t0.75, // default end threshold\n            autoInit: \ttrue \t// initialize when DOMContentLoaded\n        };\n\n    document.addEventListener(\"DOMContentLoaded\", function() {\n        if (options.autoInit) init();\n    });\n\n    function config(opts) {\n        for (var name in opts) options[name] = opts[name];\n    }\n\n    function init() {\n        document.addEventListener('scroll', scroll)\n        var els = document.querySelectorAll('[' + options.attribute + ']');\n\n        for (var i=0; i<els.length; i++) {\n            var el \t\t\t= els[i],\n                def \t\t= el.getAttribute(options.attribute, 2),\n                pairs \t= def.split(';'),\n                del \t\t= {};\n            del.start = options.start;\n            del.end = options.end;\n\n            for (var j=0; j<pairs.length; j++) {\n                var pair \t= pairs[j].split(':'),\n                    name \t= pair[0],\n                    val \t= isNaN(pair[1] * 1)? pair[1] : pair[1] * 1;\n                if (name) del[name] = (val === undefined)? true : val;\n            }\n\n            del.el = el;\n            del.id = dels.length;\n            dels.push(del);\n            el.classList.add(options.classNames[0])\n            if (del.debug) el.style.outline = 'solid red 4px';\n        }\n        scroll();\n    }\n\n    function scroll() {\n        var viewportHeight = window.innerHeight;\n        for (var i=0; i<dels.length; i++) {\n            var del = dels[i],\n                box = del.el.getBoundingClientRect(),\n                factorStart = box.top / viewportHeight,\n                factorEnd = box.bottom / viewportHeight;\n\n            if (del.debug) {\n                if (factorStart >= 0 && factorStart <= 1) {\n                    if (!del.startLine) {\n                        del.startLine = document.createElement('div')\n                        document.body.appendChild(del.startLine);\n                        del.startLine.style = 'position:fixed;height:0;width:100%;border-bottom:dotted red 2px;top:' + (del.start * 100) + 'vh';\n                    }\n                }\n                if (((factorEnd < del.end) || (factorStart > 1)) && del.startLine) {\n                    del.startLine.parentNode.removeChild(del.startLine);\n                    delete del.startLine;\n                }\n            }\n            if (factorStart < del.start && !del.started) {\n                del.started = true;\n                del.el.classList.add(options.classNames[1])\n            }\n            else if (factorStart > del.start && del.started) {\n                del.started = false;\n                del.el.classList.remove(options.classNames[1])\n            }\n            if (factorEnd < del.end && !del.ended) {\n                del.ended = true;\n                del.el.classList.add(options.classNames[2])\n            }\n            else if (factorEnd > del.end && del.ended) {\n                del.ended = false;\n                del.el.classList.remove(options.classNames[2])\n            }\n        }\n    }\n\n    self.init = init;\n    self.config = config;\n})();\nexport default Delighters;"]},"metadata":{},"sourceType":"module"}